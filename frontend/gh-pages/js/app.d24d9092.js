(function(){"use strict";var e={981:function(e,t,n){var o=n(751),r=n(641);const i={id:"app"};function a(e,t,n,o,a,c){const s=(0,r.g2)("WhiteCubeRoom");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(s)])}const c={ref:"threeContainer",class:"three-container"},s={key:0,class:"landscape-prompt"},d={key:1,class:"controls"};function h(e,t,n,o,i,a){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",c,null,512),i.showLandscapePrompt?((0,r.uX)(),(0,r.CE)("div",s," Please rotate your device to landscape mode. ")):(0,r.Q3)("",!0),i.isMobile?((0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("button",{class:"control-btn up",onTouchstart:t[0]||(t[0]=e=>a.onMoveStart("forward")),onTouchend:t[1]||(t[1]=e=>a.onMoveEnd("forward"))},"↑",32),(0,r.Lk)("button",{class:"control-btn left",onTouchstart:t[2]||(t[2]=e=>a.onMoveStart("left")),onTouchend:t[3]||(t[3]=e=>a.onMoveEnd("left"))},"←",32),(0,r.Lk)("button",{class:"control-btn down",onTouchstart:t[4]||(t[4]=e=>a.onMoveStart("backward")),onTouchend:t[5]||(t[5]=e=>a.onMoveEnd("backward"))},"↓",32),(0,r.Lk)("button",{class:"control-btn right",onTouchstart:t[6]||(t[6]=e=>a.onMoveStart("right")),onTouchend:t[7]||(t[7]=e=>a.onMoveEnd("right"))},"→",32)])):(0,r.Q3)("",!0)],64)}var u=n(437),w=n(318),v={name:"WhiteCubeRoom",data(){return{showLandscapePrompt:!1,isMobile:!1,move:{forward:!1,backward:!1,left:!1,right:!1},touchStart:{x:0,y:0}}},mounted(){this.checkOrientation(),window.addEventListener("resize",this.checkOrientation),window.addEventListener("orientationchange",this.checkOrientation),this.initThreeJS()},methods:{checkOrientation(){this.isMobile=/Mobi|Android/i.test(navigator.userAgent),this.isMobile&&window.innerHeight>window.innerWidth?this.showLandscapePrompt=!0:this.showLandscapePrompt=!1},initThreeJS(){const e=this.$refs.threeContainer,t=new u.Z58,o=new u.ubm(75,window.innerWidth/window.innerHeight,.1,1e3);o.rotation.order="YXZ";const r=new u.JeP;r.setSize(window.innerWidth,window.innerHeight),e.appendChild(r.domElement);const i=new u.$p8(16777215);t.add(i);const a=new u.fTw(20,20);t.add(a);const c=new u.IzY(5);t.add(c);const s=new u.iNn(10,10,10),d=new u.V9B({color:16777215,side:u.hsX}),h=new u.eaF(s,d);t.add(h);const v=new u.Tap,l=v.load(n(852));l.anisotropy=r.capabilities.getMaxAnisotropy(),v.load(n(852),function(e){const n=e.image.width/e.image.height,i=4,a=i/n,c=new u.bdM(i,a),s=new u.V9B({map:e,transparent:!0,side:u.$EB}),d=new u.eaF(c,s);d.position.set(0,2,0),t.add(d);const h=()=>{requestAnimationFrame(h),this.move.forward&&m.moveForward(.1),this.move.backward&&m.moveForward(-.1),this.move.left&&m.moveRight(-.1),this.move.right&&m.moveRight(.1),d.rotation.y+=.01,r.render(t,o)};h()}.bind(this));const m=new w.Z(o,r.domElement),f=()=>{console.error("Pointer lock error occurred.")};document.addEventListener("pointerlockerror",f),document.addEventListener("click",(()=>m.lock()));const p=this.move,b=e=>{switch(e.code){case"ArrowUp":case"KeyW":p.forward=!0;break;case"ArrowDown":case"KeyS":p.backward=!0;break;case"ArrowLeft":case"KeyA":p.left=!0;break;case"ArrowRight":case"KeyD":p.right=!0;break}},k=e=>{switch(e.code){case"ArrowUp":case"KeyW":p.forward=!1;break;case"ArrowDown":case"KeyS":p.backward=!1;break;case"ArrowLeft":case"KeyA":p.left=!1;break;case"ArrowRight":case"KeyD":p.right=!1;break}};document.addEventListener("keydown",b),document.addEventListener("keyup",k);const g=e=>{this.touchStart.x=e.touches[0].clientX,this.touchStart.y=e.touches[0].clientY},y=e=>{const t=e.touches[0].clientX-this.touchStart.x,n=e.touches[0].clientY-this.touchStart.y;o.rotation.y-=.002*t,o.rotation.x-=.002*n,o.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,o.rotation.x)),this.touchStart.x=e.touches[0].clientX,this.touchStart.y=e.touches[0].clientY};document.addEventListener("touchstart",g),document.addEventListener("touchmove",y),window.addEventListener("resize",(()=>{o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)})),o.position.set(0,2,5)},onMoveStart(e){this.move[e]=!0},onMoveEnd(e){this.move[e]=!1}},beforeUnmount(){window.removeEventListener("resize",this.checkOrientation),window.removeEventListener("orientationchange",this.checkOrientation),document.removeEventListener("pointerlockerror",this.onPointerLockError),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove)}},l=n(262);const m=(0,l.A)(v,[["render",h]]);var f=m,p={name:"App",components:{WhiteCubeRoom:f}};const b=(0,l.A)(p,[["render",a]]);var k=b;(0,o.Ef)(k).mount("#app")},852:function(e,t,n){e.exports=n.p+"img/megaworld.f0fc96be.png"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(h=0;h<e.length;h++){o=e[h][0],r=e[h][1],i=e[h][2];for(var c=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(h--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[o,r,i]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/meganew/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],c=o[1],s=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var h=s(n)}for(t&&t(o);d<a.length;d++)i=a[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(h)},o=self["webpackChunkmegatest"]=self["webpackChunkmegatest"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(981)}));o=n.O(o)})();
//# sourceMappingURL=app.d24d9092.js.map